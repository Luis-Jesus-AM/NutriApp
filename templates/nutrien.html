{% extends "base.html" %}

{% block contenido %}
<div class="container mt-4">

    <h2 class="text-center mb-4">Calculadora de Tasa Metabólica Basal (TMB)</h2>
    <p class="text-center text-muted">
        Calcula tu TMB (calorías mínimas en reposo) y tu GET (calorías diarias para mantener tu peso).
    </p>

    {% if error %}
        <p class="text-danger text-center mt-2">{{ error }}</p>
    {% endif %}

    <form method="POST" action="/calculadora" class="p-4 shadow rounded bg-light">

        <div class="mb-3">
            <label>Género:</label>
            <select name="genero" class="form-select" required>
                <option value="" {% if not genero %}selected{% endif %}>-- Seleccione --</option>
                <option value="hombre" {% if genero == 'hombre' %}selected{% endif %}>Hombre</option>
                <option value="mujer" {% if genero == 'mujer' %}selected{% endif %}>Mujer</option>
            </select>
        </div>

        <div class="mb-3">
            <label>Peso Corporal (kg):</label>
            <input type="number" name="peso" class="form-control" step="0.1" required 
                   value="{{ peso if peso is not none }}">
        </div>

        <div class="mb-3">
            <label>Altura (cm):</label>
            <input type="number" name="altura" class="form-control" step="0.1" required 
                   value="{{ altura if altura is not none }}">
        </div>

        <div class="mb-3">
            <label>Edad (años):</label>
            <input type="number" name="edad" class="form-control" min="1" required 
                   value="{{ edad if edad is not none }}">
        </div>

        <div class="mb-3">
            <label>Nivel de Actividad Física:</label>
            <select name="actividad" class="form-select" required>
                <option value="" {% if not actividad %}selected{% endif %}>-- Seleccione --</option>
                <option value="sedentario" {% if actividad == 'sedentario' %}selected{% endif %}>
                    Sedentario (poco o ningún ejercicio)
                </option>
                <option value="ligero" {% if actividad == 'ligero' %}selected{% endif %}>
                    Ligero (1-3 días/semana)
                </option>
                <option value="moderado" {% if actividad == 'moderado' %}selected{% endif %}>
                    Moderado (3-5 días/semana)
                </option>
                <option value="alto" {% if actividad == 'alto' %}selected{% endif %}>
                    Alto (6-7 días/semana)
                </option>
                <option value="muy alto" {% if actividad == 'muy alto' %}selected{% endif %}>
                    Muy Alto (entrenamiento intenso)
                </option>
            </select>
        </div>

        <button class="btn btn-primary w-100" type="submit">
            Calcular TMB y GET
        </button>
    </form>

    {% if tmb_resultado %}
        <div class="mt-4 p-4 bg-white rounded shadow">
            <h4 class="text-center mb-3">Resultados</h4>

            <p><strong>Tasa Metabólica Basal (TMB):</strong></p>
            <p class="fs-4 text-danger text-center">{{ tmb_resultado }} kcal/día</p>

            <p><strong>Gasto Energético Total (GET):</strong></p>
            <p class="fs-4 text-info text-center">{{ get_resultado }} kcal/día</p>

            <p class="text-muted small text-center mt-2">
                <em>*TMB = calorías mínimas en reposo.  
                GET = calorías necesarias para mantener tu peso.*</em>
            </p>
        </div>
                <div class="mt-4 p-4 bg-white rounded shadow">
            <h4 class="text-center mb-3">¿Que es la tasa metabólica basal?</h4>

            <p><strong>La tasa metabólica basal (TMB) es la cantidad mínima de calorías que tu cuerpo necesita en reposo para mantener sus funciones vitales básicas, como la respiración, la circulación sanguínea y la regulación de la temperatura. Esta energía mínima es necesaria para que las células y órganos funcionen y representa alrededor del 60-70% del gasto energético diario total de una persona. </strong></p>

        </div>
    {% endif %}

</div>
{% endblock %}
